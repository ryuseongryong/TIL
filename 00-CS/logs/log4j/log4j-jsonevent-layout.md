- https://github.com/logstash/log4j-jsonevent-layout

# Logstash json_event pattern for log4j

## What is it?

log4j를 사용해 본 적이 있다면, 특정 애펜더가 "레이아웃"이라는 것을 지원한다는 것을 알고 있을 것입니다. 
이는 기본적으로 로그 이벤트의 서식 지정/렌더링을 제어할 수 있는 방법입니다.

궁금하다면 여기에 서식 지정 매크로의 전체 목록이 나와 있습니다.

조직에서 사용하는 패턴 레이아웃은 거의 자전거를 타는 것과 같습니다. 이 라이브러리는 본질적으로 "미리 포맷된" 레이아웃으로, Logstash가 json_event에 사용하는 정확한 포맷입니다.

## JSONEventLayout
최근에 Logstash로 일부 log4j 생성 로그 이벤트를 구문 분석하는 것을 고려해야 하는 상황에 처했습니다. 이미 다른 애펜더가 있었지만, 안타깝게도 제로엠큐 자체에 대한 외부 종속성 때문에 사용할 수 없었습니다. 그래서 두 가지 옵션이 있었습니다:
    - The experimental log4j input
    - file input

log4j 입력은 실제로 꽤 멋지지만 약간의 리팩터링이 필요합니다. 이 입력은 실제로 유선을 통해 로그 이벤트 객체의 직렬화된 버전을 전송하는 log4j의 SocketAppender를 기반으로 합니다. 여기에는 쉽게 해결할 수 있는 몇 가지 문제가 있지만 실험 단계이기도 합니다. 저는 좀 더 안정적인 것이 필요했습니다. 또한 가능한 한 필터링을 피하고 싶었습니다.

그러던 중 아파치나 nginx 로그를 json_event 형식으로 덤프할 수 있는 '해킹'이 떠올랐습니다.

복잡한 패턴 레이아웃을 사용하여 이 작업을 수행할 수도 있었지만, 이 작업을 대신 수행하는 턴키 '솔루션'을 원했습니다. 이것이 바로 이 라이브러리입니다.

