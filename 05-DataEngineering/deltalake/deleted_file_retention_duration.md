- deletedFileRetentionDuration은 현재 델타 테이블에서 사용되는 로그 중 Remove 로그에 대한 보존 기간을 정하는 것이다.
- 델타 테이블에서 데이터를 삭제/변경하거나 Optimize 등을 통해 압축되는 데이터의 경우, 기존 데이터를 삭제한다는 로그를 남기게 되는데, 이 로그들을 체크포인트 생성 시 포함할 것인지를 deletedFileRetentionDuration이 초과되지 않은 경우에만 포함한다.
- 따라서 Vacuum이 설정된 경우, Remove 로그의 보존 기간을 고려하여 설정하여야 한다.
- 기존에 오해한 "Remove 로그가 추가된 파일의 실제 삭제에 대한 보존 기간"의 설정은 vacuum에서 retention_period를 설정하여 동작하도록 되어 있고, 기본 값은 0이다.