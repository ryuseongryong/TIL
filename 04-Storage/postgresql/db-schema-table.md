# 데이터베이스, 스키마, 테이블의 관계
- https://www.devkuma.com/docs/postgresql/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%8A%A4%ED%82%A4%EB%A7%88-%ED%85%8C%EC%9D%B4%EB%B8%94%EC%9D%98-%EA%B4%80%EA%B3%84/

## 데이터베이스
- PostgreSQL에서는 여러 데이터베이스를 관리할 수 있다. 설치한 직후에는 템플릿 데이터베이스인 template0와 template1, 그리고 postgres라는 데이터베이스가 만들어진다.
- 데이터베이스는 작성 권한이 있으면 신규로 추가할 수 있다.

## 스키마
- PostgreSQL에서 실제 데이터는 테이블에 저장된다. 테이블은 목적에 따라 여러 개 만들 수 있고 그것이 정리된 것이 데이터베이스이며, 데이터베이스에는 스키마라는 것이 있다.
- 스키마는 데이터베이스에 작성되는 테이블이나 함수 등의 개체를 그룹화하는 것이다. 스키마가 다르면 동일한 데이터베이스에도 동일한 테이블 이름으로 테이블을 만들 수 있다. 데이터베이스를 작성하면 자동으로 public이라는 특별한 스키마가 작성된다.
- public 스키마는 기본적으로 모든 역할에 권한과 Create 권한이 부여되며, public 스키마에 어떤 역할도 테이블을 만들 수 있다.
- public 스키마와는 별도로 스키마를 데이터베이스에 만들 수 있다. 다른 데이터베이스 시스템에서는 사용자 이름과 동일한 이름의 스키마 이름을 가진 스키마만 작성할 수 없는 것도 있지만, PostgreSQL에서는 모든 이름의 스키마를 만들 수 있다.

## 테이블
- 테이블은 스키마에 작성한다. 스키마가 다르면 같은 테이블 이름의 테이블도 만들 수 있다. 또한 스키마마다 테이블 등의 오브젝트를 작성할 수 있는 권한을 설정할 수 있다.
- CREATE TABLE 명령으로 테이블을 만들 경우 테이블 이름에 스키마를 생략하면 기본적으로 public 스키마에 테이블이 만들어진다.(역할 이름과 같은 스키마가 생성된 경우는 제외)
---
# PostgreSQL Database vs schema
- https://www.educba.com/postgresql-database-vs-schema/

## Difference between PostgreSQL Database vs schema
- PostgreSQL 데이터베이스는 테이블의 모든 스키마, 레코드, 로그 및 제약 조건이 포함된 컨테이너이다. 데이터베이스는 엄격하게 분리되어 있으므로 사용자는 두 데이터베이스에 함께 액세스할 수 없다. DML(Data Manipulation Language) 명령을 적극적으로 사용하여 PostgreSQL 데이터베이스의 데이터를 조작한다.
- PostgreSQL 스키마는 데이터베이스 내 데이터의 논리적 구조와 저장을 능동적으로 정의한다. 여기에는 모든 테이블, 데이터 유형, 인덱스, 함수, 저장 프로시저 및 관련된 모든 것이 포함된다. 애플리케이션에 액세스하는 사람마다 데이터베이스에 서로 다른 스키마를 정의하여 충돌하는 것과 불필요한 간섭을 필요할 수 있다. 스키마 다이어그램을 그려서 테이블의 데이터베이스 스키마를 설명하여 열, 데이터 유형, 키 제약 조건 및 기타 관련 정보를 표시할 수 있다.

## Comparison Table of PostgreSQL database vs schema

database | schema
--- | ---
스키마의 하위 집합이 포함. 테이블에 대한 모든 스키마, 레코드, 제약 조건 | 테이블, 인덱스, 데이터 유형, 함수, 저장 프로시저 등과 같이 명명된 모든 데이터베이스 개체를 포함하는 네임스페이스
하나의 데이터베이스에는 테이블이 있는 스키마가 여러 개 포함될 수 있다. | 스키마에는 데이터 유형, 함수, 연산자, 뷰, 인덱스 등과 같은 개체가 포함된다.
PostgreSQL의 데이터베이스는 엄격하게 분리되어 있으므로 서로 다른 두 개의 데이터베이스를 함께 사용할 수 없다. 다른 데이터베이스를 사용하려면 해당 데이터베이스에 연결하여 사용해야 한다. | 엄격하게 분리되어 있지 않다. 즉 동일한 데이터베이스 내에서 두 개 이상의 스키마에 있는 개체를 능동적으로 사용하고 액세스할 수 있다.
데이터베이스는 모든 로그 파일, 데이터 및 기타 스키마가 있는 기본 컨테이너이다. | 스키마는 논리적 객체를 함께 그룹화하는 데 사용되는 데이터베이스의 폴더와 같다.
데이터베이스는 상호 연관된 데이터의 모음이고, 고려 대상에 대한 정보를 포함한다. | 스키마는 전체 데이터베이스의 논리적 표현이다.
자주 업데이트할 수 있다. | 선언된 스키마는 서로 다른 테이블, 관련 저장 프로시저 등 관계가 생성되는 방식에 대한 전체 데이터 구성을 방해하므로 자주 변경해서는 안 된다.
데이터를 적극적으로 수정하려면 DML(Data Manipulation Language)문을 사용한다. | 스키마에서 데이터를 적극적으로 수정하려면 DDL(Data Definition Language)문을 사용한다.
`CREATE DATABASE db_name;` | `CREATE SCHEMA schema_name;`
`DROP DATABASE [IF EXISTS] db_name;` | `DROP SCHEMA IF EXISTS schema_name [, ...] [CASCADE | RESTRICT(default)];`

## Key Differences of PostgreSQL Database vs schema

1. 데이터베이스의 스키마는 전체 데이터베이스를 설명하는 데이터베이스의 논리적 표현이다.
   여기에는 뷰, 인덱스, 테이블, 데이터 유형, 연산자 등이 포함된다.
   스키마는 데이터베이스의 속성을 정의한다.
   반면 데이터베이스는 모든 스키마와 로그를 포함하고, 테이블에 대한 모든 관련 데이터와 제약 조건을 기록하며, 상호 연관된 데이터의 체계적인 모음인 컨테이너이다.
2. 데이터베이스의 데이터를 수정하기 위해 INSERT, SELECT, UPDATE, DELETE와 같은 DML문을 적극적으로 사용한다.
   스키마에서 데이터를 수정하려면 CREATE, DROP, ALTER, TRUNCATE, RENAME과 같은 DDL문을 사용한다.
3. 수정을 고려할 때 데이터베이스의 데이터는 시간이 지남에 따라 정기적인 업데이트가 필요하다. 스키마 변경은 테이블 값, 테이블 관계(기본 키, 외래 키) 및 관련 저장 프로시저와 같은 다양한 측면에 큰 영향을 미칠 수 있으므로 변경을 최소화해야 한다.
4. 스키마는 논리 구조를 사용하여 데이터를 저장하지만, 데이터베이스는 물리적 메모리를 사용하여 데이터를 저장한다.
5. 데이터베이스에는 모든 스키마와 로그가 포함되어 있으며 스키마에는 모든 테이블, 필드, 인덱스 등이 포함되어 있다.
   따라서 프로그래머는 하나의 스키마에서 동일한 이름의 두 테이블을 만들 수 없다.
   하지만 두 개의 다른 스키마에서는 가능하다.