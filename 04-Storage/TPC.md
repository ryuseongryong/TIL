# TPC
- TPC : Transaction Processing Performance Council
- 목표 : 하드웨어나 운영 체제에 관계없이 모든 트랜잭션 처리 시스템에서 실행할 수 있는 일련의 기능 요구 사항을 정의하는 것.
- 사용자 인터페이스, 통신, 디스크IO, 데이터스토리지, 백업 및 복구와 같은 주요 성능 요소를 평가하지 않을 수 있는 독립형 컴퓨터 테스트가 아닌 실제 프로덕션 애플리케이션 환경을 모델로 한다는 것에서 다른 벤치마크와 차별화 됨.
- 테스트 설계에서 운영 애플리케이션의 필수 성능 특성, 시스템 활용 수준과 운영 복잡성을 유지하면서 발견되는 작업의 다양성을 줄이는 것이 어려운 부분이기 때문에, 성능 분석에 필요한 기능에 대해서만 한정적으로 벤치마크를 진행하도록 설계하였음.

# TPC-C

## Intro
- TPC benchmark C는 온라인 트랜잭션 처리(OLTP) 벤치마크이다.
- TPC-C는 여러 트랜잭션 유형, 더 복잡한 DB 및 전반적인 실행 구조로 인해 TPC-A보다 더 복잡함
- TPC-C는 온라인에서 실행되거나 지연 실행을 위해 대기중인 서로 다른 유형과 복잡성을 가진 5개의 동시 트랜잭션이 혼합되어 있음.
- DB는 다양한 레코드 및 모집단 크기를 가진 9가지 유형의 테이블로 구성됨.
- TPC-C는 분당 트랜잭션 수(tmpC)로 측정됨

## Detailed Descriptions
- 터미널 운영자 집단이 데이터베이스에 대해 트랜잭션을 실행하는 완전한 환경을 시뮬레이션함.
- TPC-C는 트랜잭션을 중심으로 벤치마크를 진행함.
- 성능 지표는 분당 완전히 처리할 수 있는 주문 수를 측정하며 tpm-C로 표시됨
- TPC-A의 많은 특성을 그대로 이어받도록 설계되었기 때문에, OLTP 벤치마크의 모든 구성 요소가 포함되어 있음.
    - 벤치마크를 다양한 컴퓨팅 성능의 시스템에 적용하려면 TPC-C를 구현할 때, 측정 시스템의 컴퓨팅 성능에 비례하여 터미널 수와 DB크기를 모두 확장해야 함.
    - 측정된 시스템이 충분한 복구 기능을 갖춘 완전한 프로덕션 준비 시스템인지 테스트하기 위해 데이터베이스는 원자성, 일관성, 격리 및 내구성과 같은 ACID 속성으로 정의된 것을 제공해야 함. 
    - 벤치마크 결과에 대한 독립적인 검증을 용이하게 하기 위해 테스트 의뢰자는 보고된 성능을 재현하는 데 필요한 모든 정보를 전체 공개 보고서를 통해 공개해야 함. 
    - 시스템의 처리량을 측정하는 이 성능은 총 시스템 비용과 함께 보고되어야 함. 
    - 총 시스템 비용은 최종 사용자에게 공급업체가 공급한 시스템 부분의 실제 비용에 근접한 근사치
    - 여기에는 모든 하드웨어 및 소프트웨어 구성 요소의 비용, 5년간의 유지보수 비용, 보고된 처리량으로 8시간씩 180일 동안 운영되는 동안 생성된 데이터를 저장할 수 있는 충분한 스토리지 용량이 포함됨.
- 온라인으로 실행되거나 지연 실행을 위해 대기 중인 서로 다른 유형과 복잡성을 가진 5개의 동시 트랜잭션이 혼합되어 있음.
    - 이는 측정 시스템의 새로운 구성 요소가 서로 다른 성격의 여러 트랜잭션이 시스템 리소스를 놓고 경쟁함으로써 스트레스를 받기 때문에 기본 OLTP 벤치마킹 모델에서 가장 크게 확장된 모델 중 하나
- DB 구조의 복잡성이 증가했음
    - 새로운 DB는 다양한 기록과 모집단 크기를 가진 9가지 유형의 기록으로 구성됨
    - 5개의 트랜잭션 각각이 조작하는 데이터의 다양성이 더 커졌고, 운영자가 TPC-C에 입력하는 데이터에는 실제 데이터 입력의 기본 특성 중 일부가 포함됨(현실적인 시나리오)
- 더 현실적인 환경을 모델링 하기 위해 다른 벤치마크에서 볼 수 있는 인위적인 제한을 줄임
    - 모든 기능을 갖춘 단말기 또는 워크스테이션과 화면 관리 소프트웨어의 사용을 촉진하기 위해 TPC-C는 모든 단말기 입력과 디스플레이를 실제 운영자가 상용할 수 있어야 함.
    - 데이터 파티셔닝이나 복제 등 실제 애플리케이션의 성능을 향상시키는 데 사용할 수 있는 모든 물리적 DB 설계 기술이 TPC-C에서 허용됨.
    - 트랜잭션에 의한 DB레코드 사용은 테스트 의뢰자가 이런 기법을 통해 비현실적인 이점을 얻지 못하도록 신중하게 정의됨.
- TPC-C의 처리량은 터미널의 활동에 따른 직접적인 결과
    - 각 warehouse에는 10개의 터미널이 있고, 각 터미널에서 5개의 트랜잭션이 모두 가능함.
    - 성능 측정 기간 동안 필요한 트랜잭션 조합을 유지하기 위해 원격 터미널 에뮬레이터(RTE)가 사용됨
- tpm-C 메트릭은 분당 실행되는 신규 주문 트랜잭션의 수
    - 필요한 조합과 거래 간의 다양한 복잡성 및 유형을 고려할 때, 이 지표는 한 두개의 거래 또는 컴퓨터 작업이 아닌 전체 비즈니스 활동을 더 가깝게 시뮬레이션함.
    - 때문에 tpm-C 지표는 비즈니스 처리량을 측정하는 지표로 간주됨.
- RTE는 각 트랜잭션의 응답 시간을 측정하고 키 입력 시간 및 생각 시간을 시뮬레이션하는 데 사용된다. 키 입력 시간은 터미널에서 데이터를 입력하는 데 소용되는 시간을 나타내며, 생각 시간은 운영자가 다른 트랜잭션을 요청하기 전에 터미널에서 트랜잭션의 결과를 읽는 데 소용되는 시간을 나타낸다.
    - 각 트랜잭션에는 최소 키 입력 시간과 최소 생각 시간이 있음
    - 각 트랜잭션의 응답 시간은 필수 임계값 미만이어야 하고, 임계값은 성능 제한 트랜잭션으로 신규 주문에 우위를 부여하기 위해 정의되었음.
- 벤치마크 정보 및 결과가 유효한 성능 측정치라는 확신을 갖기 위해 TPC는 백업 및 복구 기능을 포함하여 필요한 모든 프로덕션 지향 기능을 갖춘 시스템을 시뮬레이션하고 테스트하도록 벤치마크를 설계
- 벤치마크 실행에 대한 완전한 문서(전체 보고서)를 요구함.
- TPC-C는 위의 모든 측면에서 TPC의 벤치마킹 철학과 방법론을 따르지만, 새로운 요소와 더 복잡한 요구 사항도 포함하고 있음 
- TPC-C의 성능 측정 지표인 tpm-C는 단순히 몇 가지 기본적인 컴퓨터 또는 데이터베이스 트랜잭션을 측정하는 것이 아니라 분당 처리할 수 있는 전체 비즈니스 작업 수를 측정함 
- 이 새로운 벤치마크를 통해 사용자는 OLTP 시스템 성능을 측정할 때 보다 광범위하고 복잡한 기준을 사용할 수 있음

# TPC-H
- 의사 결정 지원 벤치마크
- 비즈니스 지향적인 ad-hoc 쿼리, 동시 데이터 수정으로 구성
- DB를 채우는 쿼리와 데이터는 업계 전반에 걸쳐 광범위한 관련성을 갖도록 선택되었음.
- 대량의 데이털르 검사하고 복잡도가 높은 쿼리를 실행하며, 중요한 비즈니스 질문에 대한 답을 제공하는 의사 결정 지원 시스템을 보여줌
- 성능 메트릭은 TPC-H 복합 시간당 쿼리 성능 메트릭(QphH@Size)라고 하며, 쿼리를 처리하는 시스템 기능의 여러 측면을 반영함.
- 이런 측면에서 쿼리가 실행되는 선택된 DB의 크기, 단일 스트림에서 쿼리를 제출할 때의 쿼리 처리 능력, 여러 동시 사용자가 쿼리를 제출할 때의 쿼리 처리량 등이 포함된다.

### Ref
- https://www.tpc.org/tpcc/default5.asp
- https://www.tpc.org/tpch/default5.asp