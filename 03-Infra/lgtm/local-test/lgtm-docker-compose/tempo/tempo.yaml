server:
  http_listen_port: 3200
  grpc_listen_port: 9095
  log_level: info

distributor:
  receivers:
    otlp:
      protocols:
        grpc: { endpoint: 0.0.0.0:4317 }
        http: { endpoint: 0.0.0.0:4318 }

storage:
  trace:
    backend: local
    local:
      path: /var/tempo/traces

compactor:
  compaction:
    block_retention: 168h

# ğŸ”´ (í•„ìˆ˜) metrics-generator ì €ì¥/ì „ì†¡/í”„ë¡œì„¸ì„œ ì„¤ì •
metrics_generator:
  # ë¡œì»¬ ì›Œí‚¹ ë””ë ‰í„°ë¦¬ ì—†ìœ¼ë©´ ëª¨ë“ˆì´ ë¹„í™œì„±í™”ë©ë‹ˆë‹¤.
  storage:
    path: /var/tempo/metrics-generator
    remote_write:
      - url: http://192.168.100.36:9009/api/v1/push   # Mimir remote_write ì—”ë“œí¬ì¸íŠ¸
        headers:
          X-Scope-OrgID: minikube                     # í…Œë„ŒíŠ¸ í—¤ë”(ë©€í‹°í…Œë„Œì‹œì¼ ë•Œ)
  registry:
    external_labels:
      source: tempo

# ğŸ”´ (í•„ìˆ˜) í…Œë„ŒíŠ¸ë³„ë¡œ í”„ë¡œì„¸ì„œ í™œì„±(ê¸°ë³¸ê°’ì€ êº¼ì§)
overrides:
  defaults:
    metrics_generator:
      processors: ["service-graphs", "span-metrics"]

# ğŸŸ  (ê¶Œì¥) ë‹¨ì¼ ë°”ì´ë„ˆë¦¬ë¼ë„ ë§ í™•ì¸ì„ ìœ„í•´ memberlist ì„ ì–¸
memberlist:
  join_members: ["127.0.0.1"]

stream_over_http_enabled: true
