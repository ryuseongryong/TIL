# Introduction
- https://gateway-api.sigs.k8s.io/

## What is the Gateway API?
- 게이트웨이 API는 Sig-Network community에서 관리하는 오픈소스 프로젝트이다. 이것은 쿠버네티스에서 서비스 네트워킹을 모델링하는 리소스 모음이다. 게이트워이 클래스, 게이트웨이, HTTPRoute, TCPRoute, 서비스 등 이러한 리소스는 많은 벤더가 구현하고 광범위한 업계 지원을 받는 표현력 있고 확장 가능하며 역할 지향적인 인터페이스를 통해 쿠버네티스 서비스 네트워킹을 발전시키는 것을 목표로 한다.
- 쿠버네티스에서 L4, L7 라우팅을 배포하기 위한 최신 API 집합이다.

## Getting started
- 게이트웨이 API 사용에 관심이 있는 사용자나 API 준수하는 데 관심이 있는 구현자 모두에게 다음 리소스가 필요한 배경 지식을 제공하는 데 도움이 될 것이다.
    - https://gateway-api.sigs.k8s.io/concepts/api-overview/
    - https://gateway-api.sigs.k8s.io/guides/
    - https://gateway-api.sigs.k8s.io/implementations/
    - https://gateway-api.sigs.k8s.io/references/spec/
    - https://gateway-api.sigs.k8s.io/contributing/

## Gateway API concepts
- 다음 설계 목표는 게이트웨이 API의 개념을 주도합니다. 이는 게이트웨이가 Ingress와 같은 현재 표준을 개선하는 것을 목표로 하는 방법을 보여준다.
    - Role-oriented(역할 지향) : 게이트웨이는 쿠버네티스 서비스 네티워킹을 사용하고 구성하는 조직의 역할을 모델링하는 API 리소스로 구성된다.
    - Portable(이식성) : 이것은 개선된 것이 아니라 그대로 유지되어야 하는 부분이다. 인그레스가 수많은 구현이 있는 범용 사양인 것처럼, 게이트웨이 API는 많은 구현에서 지원되는 이식 가능한 사양이 되도록 설계되었다.
    - Expressive(표현력) : 게이트웨이 API 리소스는 헤더 기반 매칭, 트래픽 가중치, 사용자 정의 어노테이션을 통해서만 가능했던 기타 기능 등의 핵심 기능을 지원한다.
    - Extensible(확장성) : 게이트웨이 API를 사용하면 API의 다양한 계층에서 사용자 지정 리소스를 연결할 수 있다. 따라서 API 구조 내 적절한 위치에서 세분화된 사용자 지정이 가능하다.
- 다른 주목할 만한 기능으로는 다음과 같은 것들이 있다.
    - GatewayClasses : 게이트웨이클래스는 로드 밸런싱 구현 유형을 공식화한다. 이러한 클래스는 사용자가 쿠버네티스 리소스 모델을 통해 어떤 종류의 기능을 사용할 수 있는지 쉽고 명확하게 이해할 수 있도록 한다.
    - Shared Gateways and cross-Namespace support : 독립적인 라우트 리소스를 동일한 게이트웨이에 연결할 수 있도록 허용하여 로드 밸런서 및 VIP를 공유할 수 있다. 이를 통해 여러팀(네임스페이스 간에도)이 직접 조율하지 않고도 인프라를 안전하게 공유할 수 있다.
    - Typed Routes and typed backends : 게이트웨이 API는 유형화된 경로 리소스와 다양한 유형의 백엔드를 지원한다. 이를 통해 API는 다양한 프로토콜(HTTP, gRPC)과 다양한 백엔드 대상(k8s services, storage buckets, functions)을 유연하게 지원할 수 있다.

## Why does a role-oriented API matter?
- 도로, 전력, 데이터센터, k8s 클러스터 등 모든 인프라는 공유하도록 구축되어 있다. 그러나 공유 인프라는 인프라 소유자의 제어를 유지하면서 인프라 사용자에게 유연성을 제공하는 방법이라는 공통된 과제를 제기한다.
- 게이트웨이 API는 분산된 유연성과 중앙 집중식 제어 사이의 균형을 맞추는 쿠버네티스 서비스 네트워킹을 위한 역할 지향 설계를 통해 이를 달성한다. 이를 통해 공유 네트워크 인프라(하드웨어 로드 밸런서, 클라우드 네트워킹, 클러스터 호스팅 프록시 등)를 클러스터 운영자가 설정한 정책과 제약 조건에 따라 서로 다른 여러 팀에서 사용할 수 있다. 
- 실제 작동 사례 : 클러스터 운영자가 GatewayClasses에서 파생된 게이트웨이 리소스를 만든다. 이 게이트웨이는 자신이 나타내는 리소스를 배포하거나 구성한다. 게이트웨이와 경로 간의 경로 연결 프로세스를 통해 클러스터 운영자와 특정 팀은 이 게이트웨이에 연결할 수 있는 항목과 이를 통해 애플리케이션을 노출할 수 있는 항목에 대해 합의해야 한다. 클러스터 운영자는 게이트웨이에서 TLS와 같은 중앙 집중식 정책을 시행할 수 있다. 한편 스토어 팀과 사이트 팀은 각자의 네임스페이스에서 실행되지만 라우트를 동일한 공유 게이트웨이에 연결하여 라우팅 로직을 독립적으로 제어할 수 있다. 이러한 분리를 통해 스토어 팀은 자체 트래픽 분할 롤아웃을 관리하면서 중앙 집중식 정책과 제어는 클러스터 운영자에게 맡길 수 있다.
- 이런 유연성을 통해 API는 이식 가능한 표준 API를 유지하면서 매우 다양한 조직 모델과 구현에 적응할 수 있다.

## Who is working on Gateway?
- 게이트웨이 API는 쿠버네티스에서 서비스 네트워킹을 개선하고 표준화하기 위해 구축 중인 Sig-Network 프로젝트이다. 현재 구현 중인 프로젝트는 Contour, Emissary-Ingress(앰버서더 API 게이트웨이), Google Kubernets Engine(GKE), Istio, Kong, Traefik 등이 있다.